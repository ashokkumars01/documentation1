{% block extrahead %}
{{ super() }}
<script>
  fetch("/versions.json")
    .then(response => response.json())
    .then(versions => {
      const selector = document.createElement("select");
      selector.onchange = () => {
        window.location.href = "/" + selector.value + "/";
      };
      versions.forEach(v => {
        const opt = document.createElement("option");
        opt.value = v.name;
        opt.textContent = v.name;
        if (window.location.pathname.includes(v.name)) opt.selected = true;
        selector.appendChild(opt);
      });
      document.body.prepend(selector);
    });
</script>
{% endblock %}
